
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>HatCast - Composition d'Ã©quipes d'impro</title>
    <meta name="description" content="HatCast facilite la composition d'Ã©quipes de joueurs d'impro. Laissez chacun indiquer ses disponibilitÃ©s et le hasard choisit Ã©quitablement qui sera sur scÃ¨ne !" />
    <meta name="theme-color" content="#0ea5e9" />
    
    <!-- Favicon et icÃ´nes -->
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg" />
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.webmanifest?v=3.0.0" />
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/icons/apple-icon-180.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="HatCast" />
    <meta name="application-name" content="HatCast" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes" />
    
    <!-- PWA Meta tags supplÃ©mentaires -->
    <meta name="msapplication-TileColor" content="#0ea5e9" />
    <meta name="msapplication-TileImage" content="/icons/mstile-150x150.png" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    
    <script>
      // Restore deep link after GitHub Pages 404 redirect placed path into ?p=
      (function() {
        try {
          var params = new URLSearchParams(window.location.search);
          var p = params.get('p');
          if (p) {
            var target = decodeURIComponent(p);
            var base = '/';
            // Avoid infinite loops: only push if not already there
            if (!window.location.pathname.startsWith(base + target)) {
              // Use history API to set the correct path before Vue Router mounts
              window.history.replaceState({}, '', base + target);
            }
          }
        } catch (e) {
          // ignore
        }
      })();
    </script>
  <style>
    /* Structure : #app contient loading + mount, les deux occupent l'Ã©cran */
    #app { min-height: 100vh; position: relative; }
    #app-vue { min-height: 100vh; }
    /* Placeholder = mÃªme design que GridBoard overlay (transition fluide) */
    #app-loading {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #030712;
      z-index: 99999;
    }
    #app-loading .icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(to bottom right, #ec4899, #9333ea);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
    }
    #app-loading .text {
      color: rgba(255,255,255,0.95);
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 1.125rem;
      margin-bottom: 0.75rem;
    }
    #app-loading .bar {
      width: 256px;
      height: 8px;
      background: rgba(255,255,255,0.1);
      border-radius: 9999px;
      overflow: hidden;
    }
    #app-loading .bar-fill {
      height: 100%;
      width: 20%;
      background: linear-gradient(to right, #ec4899, #9333ea);
      transition: width 0.3s;
    }
    #app-loading .percent {
      color: rgba(255,255,255,0.6);
      font-size: 0.75rem;
      margin-top: 0.5rem;
    }
    @keyframes app-load-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }
    #app-loading .icon { animation: app-load-pulse 1.5s ease-in-out infinite; }
  </style>
  </head>
  <body>
    <div id="app">
      <div id="app-loading" aria-live="polite">
        <div class="icon" aria-hidden="true">ðŸŽ­</div>
        <span class="text">Chargement des donnÃ©es de la saison</span>
        <div class="bar"><div class="bar-fill"></div></div>
        <span class="percent">20%</span>
      </div>
      <div id="app-vue"></div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
